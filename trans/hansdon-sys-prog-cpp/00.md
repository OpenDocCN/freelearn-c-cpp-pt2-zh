# 零、前言

通过本书，我们旨在为您提供对 Linux/Unix 系统编程的了解，有关 Linux 系统调用的参考手册以及使用 C 编写更智能，更快的代码的内部指南。这本书将解释 POSIX 标准功能与现代 C 提供的特殊服务之间的差异。

本书还将向读者讲授基本的 I/O 操作，如读取和写入文件，高级 I/O 接口，内存映射，优化技术，线程概念，多线程编程，POSIX 线程，用于分配内存和优化内存访问的接口，基本和高级信号接口，以及它们在系统上的作用。本书还将解释时钟管理，包括 POSIX 时钟和高分辨率计时器。最后，本书使用现代示例和参考文献来提供与 C 和更广泛的社区的最新相关性，包括指南支持库及其在系统编程中的作用。

# 这本书是给谁的

这本书是为初学者到高级 Linux 和使用 C++ 的通用 UNIX 程序员，或者任何寻求 Linux、C++ 17 和/或使用 POSIX、C 和 C++ 进行系统编程的人提供的。尽管本书涵盖了很多有关现代 C 的主题，但其重点是系统编程。预计读者已经对 C 和 C 有了普遍的了解，因为这两者都将在本书中得到利用。

# 这本书涵盖了什么

[第一章](01.html)，*系统编程入门*，为本书奠定了基础，通过提供一些基本示例并解释使用 C 进行系统编程的好处，帮助定义了什么是系统编程。

[第 2 章](02.html)，*学习 C、C 17 和 POSIX 标准*，回顾 C、C 和 POSIX 标准，概述每个标准提供的与系统编程有关的设施，以及将在本书中讨论的主题的一般概述。

[第 3 章](03.html)，*C++ 和 C++ 的系统类型*，全面概述了 C++ 和 C++ 提供的系统类型以及在执行系统编程时如何使用它们。本章还将讨论与原生类型相关的许多陷阱，以及如何克服它们。

[第 4 章](04.html)，*C，RAII 和 GSL 复习*提供了 C 17 提供的附加内容的一般概述。本章还将讨论**资源获取的好处是初始化** (**RAII**)，以及在进行系统编程时如何利用它。本章将以指南支持库的概述作为结尾，该指南支持库在本书中用于帮助维护 C 核心指南的合规性。

[第五章](05.html)，*编程 Linux/Unix 系统*，全面概述了基于 Linux /UNIX 系统的编程，包括系统 V 规范、编程 Linux 进程和基于 Linux 的信号。

[第 6 章](06.html)，*学习编程控制台输入/输出*，提供了如何利用 C 来编程控制台输入和输出的完整概述，包括`std::cout`和`std::cin`。还将讨论更高级的主题，例如如何处理自定义类型。

[第七章](07.html)，*全面了解内存管理*，全面回顾了 C 和 C 提供的内存管理功能。在本章中，我们将回顾 C 的缺点，以及如何利用现代 C 来克服其中的许多缺点。

[第 8 章](08.html)，*学习编程文件输入/输出*，回顾如何使用 C 17 读写文件，并将这些功能与 C 提供的功能进行比较。此外，我们将深入研究 C 17 提供的用于处理磁盘上的文件和目录的`std::filesystem`添加。

[第 9 章](09.html)，*分配器的动手方法*介绍了 C 分配器以及如何利用它们来执行系统编程。与大多数其他描述 C 分配器的尝试不同，我们将向您介绍如何创建多个有状态分配器的真实示例，包括内存池分配器，并演示其潜在的性能优势。

[第 10 章](10.html)，*使用 C*编程 POSIX 套接字，通过一系列示例，概述了如何使用 C 编程 POSIX 套接字 (换句话说，网络编程)。在本章中，我们还将讨论与 POSIX 套接字相关的一些问题，以及如何克服这些问题。

[第 11 章](11.html)，*Unix 中的时间接口*全面概述了 C 和 C 提供的时间接口，以及如何在系统编程时将它们一起用于处理时间，包括如何使用该接口进行基准测试。

[第 12 章](12.html)，*学习编程 POSIX 和 C 线程*，讨论了 POSIX 和 C 提供的线程编程和同步设施以及它们之间的相互关系。我们还将提供一系列示例，以演示如何利用这些设施。

[第 13 章](13.html)，*有异常的错误处理*，涵盖了 C 和 C 错误处理，包括 C 和 C 异常。在本章中，我们还将介绍一系列示例，这些示例演示了利用 C 异常相对于传统 C 错误处理的好处。

# 为了充分利用这本书

读者应具有 C 和 C 的一般知识，并能够在 Linux 上编写，编译和执行 C 和 C 应用。为了执行本书中的示例，读者还应该可以访问运行 Ubuntu Linux 17.10 或更高版本的基于 Intel 的计算机。读取器还应确保使用以下方法安装 GCC 7.0 或更高版本:

```cpp
sudo apt-get install build-essential
```

# 下载示例代码文件

您可以从您的帐户下载本书的示例代码文件，网址为[www.packtpub.com](http://www.packtpub.com)。如果您在其他地方购买了这本书，则可以访问[www.packtpub.com/support](http://www.packtpub.com/support)并注册以将文件直接通过电子邮件发送给您。

您可以按照以下步骤下载代码文件:

1.  登录或注册到[www.packtpub.com](http://www.packtpub.com/support)。
2.  选择支持选项卡。
3.  点击代码下载和勘误表。
4.  在搜索框中输入书籍的名称，然后按照屏幕上的说明进行操作。

下载文件后，请确保使用以下最新版本解压缩或解压缩文件夹:

*   WinRAR/7-视窗拉链
*   Zipeg/iZip/UnRarX for Mac
*   7-Linux 的 Zip/PeaZip

这本书的代码包也托管在 GitHub 上，https://github.com/PacktPublishing/ 使用 CPP/ 进行动手系统编程。如果代码有更新，它将在现有 GitHub 存储库中更新。

我们还从我们丰富的书籍和视频目录中获得其他代码包，可在**[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)** 获得。看看他们!

# 使用的约定

本书中使用了许多文本约定。

`CodeInText`: 表示文本中的代码字、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 url、用户输入和 Twitter 句柄。这里有一个例子: “例如，看看使用`std::array{}`或`std::vector{}`命令的区别。”

一个代码块设置如下:

```cpp
int array[10];

auto r1 = array + 1;
auto r2 = *(array + 1);
auto r3 = array[1];
```

当我们希望提请您注意代码块的特定部分时，相关行或项目以粗体设置:

```cpp
int main()
{
    auto ptr1 = mmap_unique_server<int>(42);
    auto ptr2 = mmap_unique_client<int>();
    std::cout << *ptr1 << '\n';
    std::cout << *ptr2 << '\n';
}
```

任何命令行输入或输出都写如下:

```cpp
> cmake -DCMAKE_BUILD_TYPE=Release ..
> make
```

**粗体**: 表示一个新的术语，一个重要的单词，或者你在屏幕上看到的单词。例如，菜单或对话框中的单词会像这样出现在文本中。这是一个示例: “从管理面板中选择系统信息。”

Warnings or important notes appear like this. Tips and tricks appear like this.

# 取得联系

我们总是欢迎读者的反馈。

**一般反馈**: 发电子邮件`feedback@packtpub.com`，并在您的邮件主题中提及书名。如果您对本书的任何方面有疑问，请发送电子邮件至`questions@packtpub.com`。

**勘误表**: 尽管我们已经尽了一切努力来确保我们内容的准确性，但错误确实会发生。如果您在本书中发现错误，我们将不胜感激。请访问[www.packtpub.com/submit-勘误表](http://www.packtpub.com/submit-errata)，选择您的书，点击勘误表提交链接，并输入详细信息。

**盗版**: 如果您在互联网上遇到任何形式的非法复制我们的作品，如果您能提供我们的位置地址或网站名称，我们将不胜感激。请通过`copyright@packtpub.com`与我们联系，并提供材料链接。

**如果你有兴趣成为作者**: 如果有一个主题是你有专业知识，并且你有兴趣写作或投稿，请访问[authors.packtpub.com](http://authors.packtpub.com/)。

# 评论

请留下评论。一旦你阅读并使用了这本书，为什么不在你购买它的网站上留下评论呢？然后，潜在的读者可以看到并使用您的公正意见来做出购买决定，我们在 Packt 可以了解您对我们产品的看法，我们的作者可以看到您对他们的书的反馈。谢谢!

有关 Packt 的更多信息，请访问[packtpub.com](https://www.packtpub.com/)。